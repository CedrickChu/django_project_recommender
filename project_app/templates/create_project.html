{% extends 'base.html' %}
{% block body %}
<div class='content-center' style='width:70%; margin: auto;'>
    <h1>Project Description</h1>
    <form method="post">
        {% csrf_token %}
        <label for="project_name">Project Name:</label>
        <input class='form-control' type="text" id="project_name" name="project_name" required>

        <label for="project_description">Project Description:</label>
        <textarea class='form-control'  id="project_description" name="project_description" rows="4" required></textarea>

        <label for="project_goals">Project Goals:</label>
        <textarea class='form-control'  id="project_goals" name="project_goals" rows="4" required></textarea>

        <button type="button" class='btn btn-fill btn-danger' id="add-skill-btn">Add Skill</button>
        <div id="skills-section">
            <label for="required_skills">Required Skills:</label>
            <select class="form-control" id="required_skills" name="required_skills">
                {% for skill in skills %}
                    <option value="{{ skill.id }}">{{ skill.skill_type }}</option>
                {% endfor %}
            </select>
        </div>

        <button type="button" class="btn btn-fill btn-danger" id="add-hobby-btn">Add Hobby</button>
        <div id="hobbies-section">
            <label for="relevant_hobbies">Relevant Hobbies:</label>
            <select class="form-control" id="relevant_hobbies" name="relevant_hobbies">
                {% for hobby in hobbies %}
                    <option value="{{ hobby.id }}">{{ hobby.name }}</option>
                {% endfor %}
            </select>
        </div>


        <label for="start_date">Start Date:</label>
        <input class='form-control' type="date" id="start_date" name="start_date" required>

        <label for="end_date">End Date:</label>
        <input class='form-control' type="date" id="end_date" name="end_date" required>

        <button class='btn btn-fill btn-danger' type="submit">Submit</button>
    </form>
</div>
<script>
    document.getElementById('add-skill-btn').addEventListener('click', function(e) {
        e.preventDefault();
        var skillsSection = document.getElementById('skills-section');
        var newSkillSelect = document.createElement('select');
        newSkillSelect.setAttribute('name', 'required_skills');
        newSkillSelect.setAttribute('class', 'form-control');

        // Assuming you have the skills in a JavaScript array (skillsArray)
        {% for skill in skills %}
        var option = document.createElement('option');
        option.value = "{{ skill.id }}";
        option.text = "{{ skill.skill_type }}";
        newSkillSelect.appendChild(option);
        {% endfor %}

        skillsSection.appendChild(newSkillSelect);
    });
</script>

<script>
    document.getElementById('add-hobby-btn').addEventListener('click', function(e) {
        e.preventDefault();
        var hobbiesSection = document.getElementById('hobbies-section');
        var newHobbySelect = document.createElement('select');
        newHobbySelect.setAttribute('name', 'relevant_hobbies');
        newHobbySelect.setAttribute('class', 'form-control');

        // Assuming you have the hobbies in a JavaScript array (hobbiesArray)
        {% for hobby in hobbies %}
        var option = document.createElement('option');
        option.value = "{{ hobby.id }}";
        option.text = "{{ hobby.name }}";
        newHobbySelect.appendChild(option);
        {% endfor %}

        hobbiesSection.appendChild(newHobbySelect);
    });
</script>
{% endblock %}
